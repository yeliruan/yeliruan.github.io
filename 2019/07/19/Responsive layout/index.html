<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  

  
  <title>响应式布局的常用解决方案对比(媒体查询、百分比、rem和vw/vh） | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="前端开发中，静态网页通常需要适应不同分辨率的设备，常用的自适应解决方案包括媒体查询、百分比、rem和vw/vh等。本文从px单位出发，分析了px在移动端布局中的不足，接着介绍了几种不同的自适应解决方案。 PX和视口在静态网页中，我们经常用像素（px）作为单位，来描述一个元素的宽高以及定位信息。在pc端，通常认为css中,1px所表示的真实长度是固定的。 px真的是一个设备无关，跟长度单位米和分米一">
<meta property="og:type" content="article">
<meta property="og:title" content="响应式布局的常用解决方案对比(媒体查询、百分比、rem和vw&#x2F;vh）">
<meta property="og:url" content="http://yoursite.com/2019/07/19/Responsive layout/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="前端开发中，静态网页通常需要适应不同分辨率的设备，常用的自适应解决方案包括媒体查询、百分比、rem和vw/vh等。本文从px单位出发，分析了px在移动端布局中的不足，接着介绍了几种不同的自适应解决方案。 PX和视口在静态网页中，我们经常用像素（px）作为单位，来描述一个元素的宽高以及定位信息。在pc端，通常认为css中,1px所表示的真实长度是固定的。 px真的是一个设备无关，跟长度单位米和分米一">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://yoursite.com/2019/07/19/Responsive%20layout/%27../imgs/Responsive/1.png%27">
<meta property="og:updated_time" content="2019-07-22T08:22:17.895Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="响应式布局的常用解决方案对比(媒体查询、百分比、rem和vw&#x2F;vh）">
<meta name="twitter:description" content="前端开发中，静态网页通常需要适应不同分辨率的设备，常用的自适应解决方案包括媒体查询、百分比、rem和vw/vh等。本文从px单位出发，分析了px在移动端布局中的不足，接着介绍了几种不同的自适应解决方案。 PX和视口在静态网页中，我们经常用像素（px）作为单位，来描述一个元素的宽高以及定位信息。在pc端，通常认为css中,1px所表示的真实长度是固定的。 px真的是一个设备无关，跟长度单位米和分米一">
<meta name="twitter:image" content="http://yoursite.com/2019/07/19/Responsive%20layout/%27../imgs/Responsive/1.png%27">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Responsive layout" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/19/Responsive layout/" class="article-date">
  <time datetime="2019-07-19T07:44:55.557Z" itemprop="datePublished">2019-07-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      响应式布局的常用解决方案对比(媒体查询、百分比、rem和vw/vh）
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>前端开发中，静态网页通常需要适应不同分辨率的设备，常用的自适应解决方案包括媒体查询、百分比、rem和vw/vh等。本文从px单位出发，分析了px在移动端布局中的不足，接着介绍了几种不同的自适应解决方案。</p>
<h2 id="PX和视口"><a href="#PX和视口" class="headerlink" title="PX和视口"></a>PX和视口</h2><p>在静态网页中，我们经常用像素（px）作为单位，来描述一个元素的宽高以及定位信息。在pc端，通常认为css中,1px所表示的真实长度是固定的。</p>
<h4 id="px真的是一个设备无关，跟长度单位米和分米一样是固定大小的吗？"><a href="#px真的是一个设备无关，跟长度单位米和分米一样是固定大小的吗？" class="headerlink" title="px真的是一个设备无关，跟长度单位米和分米一样是固定大小的吗？"></a>px真的是一个设备无关，跟长度单位米和分米一样是固定大小的吗？</h4><p>答案是否定的，下面图1.1和图1.2分别表示pc端下和移动端下的显示结果，在网页中我们设置的font-size统一为16px。</p>
<p>从上面两幅图的对比可以看出，字体都是16px，显然在pc端中文字正常显示，而在移动端文字很小，几乎看不到，说明在css中1px并不是固定大小</p>
<p>那么css中的1px的真实长度到底由什么决定呢？</p>
<h4 id="像素"><a href="#像素" class="headerlink" title="像素"></a>像素</h4><p>像素是网页布局的基础，一个像素表示了计算机屏幕所能显示的最小区域，像素分为两种类型：css像素和物理像素。</p>
<p>我们在js或者css代码中使用的px单位就是指的是css像素，物理像素也称设备像素，只与设备或者说硬件有关，同样尺寸的屏幕，设备的密度越高，物理像素也就越多。下表表示css像素和物理像素的具体区别</p>
<p>css像素：    为web开发者提供，在css中使用的一个抽象单位<br>物理像素：     只与设备的硬件密度有关，任何设备的物理像素都是固定的</p>
<h4 id="视口"><a href="#视口" class="headerlink" title="视口"></a>视口</h4><p>广义的视口，是指浏览器显示内容的屏幕区域，狭义的视口包括了布局视口、视觉视口和理想视口</p>
<p><strong>(1) 布局视口（layout viewport）</strong><br>一般移动设备的浏览器都默认设置了一个 viewport 元标签，定义一个虚拟的布局视口（layout viewport），用于解决早期的页面在手机上显示的问题。iOS, Android 基本都将这个视口分辨率设置为 980px，所以 PC 上的网页基本能在手机上呈现，只不过元素看上去很小，一般默认可以通过手动缩放网页。<br><img src="'../imgs/Responsive/1.png'" alt><br>布局视口的宽度/高度可以通过 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.documentElement.clientWidth/Height 获取。</span><br></pre></td></tr></table></figure>

<p>如果要显式设置布局视口，可以使用 HTML 中的 meta 标签：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=400"</span>&gt;</span><br></pre></td></tr></table></figure>

<p><strong>(2) 视觉视口（visual viewport）</strong><br>视觉视口是用户当前看到的区域，用户可以通过缩放操作视觉视口，同时不会影响布局视口。</p>
<p>视觉视口和缩放比例的关系为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">当前缩放值 = 理想视口宽度  / 视觉视口宽度</span><br></pre></td></tr></table></figure>

<p>所以，当用户放大时，视觉视口将会变小，CSS 像素将跨越更多的物理像素。</p>
<p><strong>(3) 理想视口（ideal viewport）</strong><br>布局视口的默认宽度并不是一个理想的宽度，于是 Apple 和其他浏览器厂商引入了理想视口的概念，它对设备而言是最理想的布局视口尺寸。显示在理想视口中的网站具有最理想的宽度，用户无需进行缩放。</p>
<p>理想视口的值其实就是屏幕分辨率的值，它对应的像素叫做设备逻辑像素（device independent pixel, dip）。dip 和设备的物理像素无关，一个 dip 在任意像素密度的设备屏幕上都占据相同的空间。如果用户没有进行缩放，那么一个 CSS 像素就等于一个 dip。</p>
<p>用下面的方法可以使布局视口与理想视口的宽度一致：<br><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;&gt;</code></p>
<p>上述视口中，最重要的是要明确理想视口的概念，在移动端中，理想视口或者说分辨率跟物理像素之间有什么关系呢？</p>
<p>为了理清分辨率和物理像素之间的联系，我们介绍一个用DPR（Device pixel ratio）设备像素比来表示，则可以写成：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 DPR = 物理像素／分辨率</span><br></pre></td></tr></table></figure>

<p>在不缩放的情况下，一个css像素就对应一个dpr，也就是说，在不缩放</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1 CSS像素 = 物理像素／分辨率</span><br></pre></td></tr></table></figure>

<p>此外，在移动端的布局中，我们可以通过viewport元标签来控制布局，比如一般情况下，我们可以通过下述标签使得移动端在理想视口下布局：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta id=<span class="string">"viewport"</span> name=<span class="string">"viewport"</span>   </span><br><span class="line">content=<span class="string">"width=device-width; initial-scale=1.0; maximum-scale=1; user-scalable=no;"</span>&gt;</span><br></pre></td></tr></table></figure>

<p>上述meta标签的每一个属性的详细介绍如下：</p>
<p>width    正整数    定义布局视口的宽度，单位为像素<br>height    正整数    定义布局视口的高度，单位为像素，很少使用<br>initial-scale    [0,10]    初始缩放比例，1表示不缩放<br>minimum-scale    [0,10]    最小缩放比例<br>maximum-scale    [0,10]    最大缩放比例<br>user-scalable    yes／no    是否允许手动缩放页面，默认值为yes</p>
<p>其中我们来看width属性，在移动端布局时，在meta标签中我们会将width设置称为device-width，device-width一般是表示分辨率的宽，通过width=device-width的设置我们就将布局视口设置成了理想的视口。</p>
<p>有几点值得注意：</p>
<ul>
<li>viewport 标签只对移动端浏览器有效，对 PC 端浏览器是无效的</li>
<li>当缩放比例为 100% 时，dip 宽度 = CSS 像素宽度 = 理想视口的宽度 = 布局视口的宽度</li>
<li>单独设置 initial-scale 或 width 都会有兼容性问题，所以设置布局视口为理想视口的最佳方法是同时设置这两个属性</li>
<li>即使设置了 user-scalable = no，在 Android Chrome 浏览器中也可以强制启用手动缩放</li>
</ul>
<h3 id="px与自适应"><a href="#px与自适应" class="headerlink" title="px与自适应"></a>px与自适应</h3><p>上述我们了解到了当通过viewport元标签，设置布局视口为理想视口时，1个css像素可以表示成：</p>
<p>1 CSS像素 = 物理像素／分辨率<br>我们直到，在pc端的布局视口通常情况下为980px，移动端以iphone6为例，分辨率为375 * 667，也就是说布局视口在理想的情况下为375px。比如现在我们有一个750px * 1134px的视觉稿，那么在pc端，一个css像素可以如下计算：</p>
<p>PC端： 1 CSS像素 = 物理像素／分辨率 = 750 ／ 980 =0.76 px<br>而在iphone6下：</p>
<p>iphone6：1 CSS像素 = 物理像素 ／分辨率 = 750 ／ 375 = 2 px<br>也就是说在PC端，一个CSS像素可以用0.76个物理像素来表示，而iphone6中 一个CSS像素表示了2个物理像素。此外不同的移动设备分辨率不同，也就是1个CSS像素可以表示的物理像素是不同的，因此如果在css中仅仅通过px作为长度和宽度的单位，造成的结果就是无法通过一套样式，实现各端的自适应。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/07/19/Responsive layout/" data-id="cjyic1pl00001ern850mka2vd" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/07/19/HOC/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          高阶组件
        
      </div>
    </a>
  
  
    <a href="/2019/07/19/https原理/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">HTTPS原理</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/07/19/HOC/">高阶组件</a>
          </li>
        
          <li>
            <a href="/2019/07/19/Responsive layout/">响应式布局的常用解决方案对比(媒体查询、百分比、rem和vw/vh）</a>
          </li>
        
          <li>
            <a href="/2019/07/19/https原理/">HTTPS原理</a>
          </li>
        
          <li>
            <a href="/2019/07/19/前端安全/">前端安全</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>